{% extends 'base.html' %} 
{% block content %}
{% load static %}
<div class="p-3">
  <div class="container">
    <div class="row mt-3">
      <div class="col-md-6 col-lg-6 col-xl-6 mx-auto mb-3">
        <b>División actual</b>
        <hr />
        <p class="font-13 rc-footer-font">En este momento te encuentras en la división: 
          <span class="fw-bold">{{ viewData.user_ranking_name }}</span> con 
          <span class="fw-bold">{{ viewData.user_points }}</span> EXP. Para subir de división, debes acumular 
          <span class="fw-bold">{{ viewData.user_pending_points }}</span> EXP adicionales.</p>
        <b>Progreso a la siguiente división</b>
        <hr />
        <p class="font-13 rc-footer-font">
          <div class="progress" role="progressbar" aria-label="Default striped example" aria-valuenow="10" aria-valuemin="0" aria-valuemax="100">
            <div class="progress-bar progress-bar-striped" style="width: {{ viewData.user_progress_percentage }}%">{{ viewData.user_progress_percentage }}%</div>
          </div>
        </p>
        <b>Divisiones</b>
        <hr />
        <p class="font-13 rc-footer-font">A continuación, se listan las diferentes divisiones disponibles en SASVAR.
          Sube tu nivel de división acumulando puntos de experiencia.</p>
          
          <div class="container mt-4">
            {% for ranking in viewData.rankings %}
            <div class="row justify-content-center">
              <div class="col-md-12">
                {% if viewData.user_ranking_name == ranking.name %}
                <div class="card shadow-lg p-3 mb-4 bg-turquoise rounded border-0">
                {% else %}
                <div class="card shadow-lg p-3 mb-4 bg-white rounded border-0">
                {% endif %}
                  <div class="card-body">
                    <div class="d-flex align-items-center">
                      <img src="{% static 'images/badge.png' %}"
                        alt="" style="width: 35px; height: 45px"
                      />
                      <div class="ms-3">
                        <p class="fw-bold mb-1">{{ ranking.name }}</p>
                        <p class="text-muted mb-0">
                          Desde <span class="fw-bold">{{ ranking.from_points }} EXP</span> 
                          hasta <span class="fw-bold">{{ ranking.to_points }} EXP</span>
                        </p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            {% endfor %}
          </div>

      </div>
      <div class="col-md-6 col-lg-6 col-xl-6 mx-auto mb-3 text-center d-none d-md-block">
        <img src="{% static 'images/rankings.png' %}" class="max-width-100" alt="about" />
      </div>
    </div>
  </div>
</div>
{% endblock content %} 